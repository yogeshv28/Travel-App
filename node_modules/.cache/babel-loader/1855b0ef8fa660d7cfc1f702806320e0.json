{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\yogesh\\\\Desktop\\\\react-prism\\\\App-Building-One\\\\Travel-exp\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\yogesh\\\\Desktop\\\\react-prism\\\\App-Building-One\\\\Travel-exp\\\\src\\\\useAuthentication.js\";\nimport React, { useState, createContext } from \"react\";\nimport { doLogin } from \"./api\";\nconst AuthCtx = createContext();\n\nconst useAuthentication = (history, location) => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const login = (email, password) => doLogin(email, password).then(user => {\n    setUser(user);\n    setError(null);\n  }).catch(error => setError(error));\n\n  const logOut = () => {\n    setUser(null);\n    setError(null);\n  };\n\n  return {\n    AuthCtx,\n    AuthProvider: ({\n      children\n    }) => React.createElement(AuthCtx.Provider, {\n      value: {\n        error,\n        user,\n        login,\n        logOut\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, children)\n  };\n};\n\nexport default useAuthentication;","map":{"version":3,"sources":["C:/Users/yogesh/Desktop/react-prism/App-Building-One/Travel-exp/src/useAuthentication.js"],"names":["React","useState","createContext","doLogin","AuthCtx","useAuthentication","history","location","user","setUser","error","setError","login","email","password","then","catch","logOut","AuthProvider","children"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,QAA+C,OAA/C;AACA,SAASC,OAAT,QAAwB,OAAxB;AAEA,MAAMC,OAAO,GAAGF,aAAa,EAA7B;;AAEA,MAAMG,iBAAiB,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAAA,oBACvBN,QAAQ,CAAC,IAAD,CADe;AAAA;AAAA,QACxCO,IADwC;AAAA,QAClCC,OADkC;;AAAA,qBAErBR,QAAQ,CAAC,IAAD,CAFa;AAAA;AAAA,QAExCS,KAFwC;AAAA,QAEjCC,QAFiC;;AAI/C,QAAMC,KAAK,GAAG,CAACC,KAAD,EAAQC,QAAR,KACZX,OAAO,CAACU,KAAD,EAAQC,QAAR,CAAP,CACGC,IADH,CACQP,IAAI,IAAI;AACZC,IAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAJH,EAKGK,KALH,CAKSN,KAAK,IAAIC,QAAQ,CAACD,KAAD,CAL1B,CADF;;AAQA,QAAMO,MAAM,GAAG,MAAM;AACnBR,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAHD;;AAIA,SAAO;AACLP,IAAAA,OADK;AAELc,IAAAA,YAAY,EAAE,CAAC;AAAEC,MAAAA;AAAF,KAAD,KACZ,oBAAC,OAAD,CAAS,QAAT;AAAkB,MAAA,KAAK,EAAE;AAAET,QAAAA,KAAF;AAASF,QAAAA,IAAT;AAAeI,QAAAA,KAAf;AAAsBK,QAAAA;AAAtB,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGE,QADH;AAHG,GAAP;AAQD,CAxBD;;AA0BA,eAAed,iBAAf","sourcesContent":["import React, { useState, createContext } from \"react\";\nimport { doLogin } from \"./api\";\n\nconst AuthCtx = createContext();\n\nconst useAuthentication = (history, location) => {\n  const [user, setUser] = useState(null);\n  const [error, setError] = useState(null);\n\n  const login = (email, password) =>\n    doLogin(email, password)\n      .then(user => {\n        setUser(user);\n        setError(null);\n      })\n      .catch(error => setError(error));\n\n  const logOut = () => {\n    setUser(null);\n    setError(null);\n  };\n  return {\n    AuthCtx,\n    AuthProvider: ({ children }) => (\n      <AuthCtx.Provider value={{ error, user, login, logOut }}>\n        {children}\n      </AuthCtx.Provider>\n    )\n  };\n};\n\nexport default useAuthentication;\n"]},"metadata":{},"sourceType":"module"}